{
  "editor.tabSize": 2,
  "chat.tools.terminal.autoApprove": {
    "/^\\$content = @'\nimport React, \\{ useState \\} from 'react'\nimport \\{\n  TextInput,\n  View,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  Platform,\n  ScrollView,\n  KeyboardAvoidingView,\n\\} from 'react-native'\nimport \\{ Link \\} from 'expo-router'\nimport DateTimePicker, \\{\n  DateTimePickerEvent,\n\\} from '@react-native-community/datetimepicker'\nimport \\{ MaskedTextInput \\} from 'react-native-mask-text'\n\nimport \\{ useAuth \\} from '@/hooks/useAuth'\nimport \\{ formatDate \\} from '@/utils/formatDate'\nimport \\{ useAppTheme \\} from '@/hooks/useAppTheme'\n\nexport default function Register\\(\\) \\{\n  const \\[form, setForm\\] = useState\\(\\{\n    name: '',\n    email: '',\n    password: '',\n    password_confirmation: '',\n    birthDate: '',\n    phone: '',\n    cpf: '',\n    gender: '',\n    profession: '',\n    address: '',\n    isAdmin: false,\n    isPersonal: false,\n  \\}\\)\n  const \\[showDatePicker, setShowDatePicker\\] = useState\\(false\\)\n  const \\{ register \\} = useAuth\\(\\)\n  const \\{ colors \\} = useAppTheme\\(\\)\n\n  const handleRegister = async \\(\\) => \\{\n    if \\(!form\\.name \\|\\| !form\\.email \\|\\| !form\\.password\\) \\{\n      return\n    \\}\n\n    const userData = \\{\n      \\.\\.\\.form,\n      birthDate: form\\.birthDate \\? parseDateToISO\\(form\\.birthDate\\) : null,\n      gender: \\(form\\.gender as 'M' \\| 'F' \\| 'O'\\) \\|\\| null,\n    \\}\n\n    await register\\(userData\\)\n  \\}\n\n  const selectGender = \\(value: string\\) => setForm\\(\\{ \\.\\.\\.form, gender: value \\}\\)\n  const selectIsAdmin = \\(value: string\\) =>\n    setForm\\(\\{ \\.\\.\\.form, isAdmin: value === 'S' \\}\\)\n  const selectIsPersonal = \\(value: string\\) =>\n    setForm\\(\\{ \\.\\.\\.form, isPersonal: value === 'S' \\}\\)\n  const equalsIsAdmin = \\(value: string\\) => form\\.isAdmin === \\(value === 'S'\\)\n  const equalsIsPersonal = \\(value: string\\) =>\n    form\\.isPersonal === \\(value === 'S'\\)\n\n  const parseDateToISO = \\(dateString: string\\): string => \\{\n    const \\[day, month, year\\] = dateString\\.split\\('/'\\)\\.map\\(Number\\)\n    return new Date\\(year, month - 1, day\\)\\.toISOString\\(\\)\n  \\}\n\n  const parseDate = \\(dateString: string\\): Date => \\{\n    const \\[day, month, year\\] = dateString\\.split\\('/'\\)\\.map\\(Number\\)\n    return new Date\\(year, month - 1, day\\)\n  \\}\n\n  const handleDateChange = \\(\n    event: DateTimePickerEvent,\n    selectedDate\\?: Date,\n  \\) => \\{\n    if \\(event\\.type === 'dismissed'\\) \\{\n      setShowDatePicker\\(false\\)\n      return\n    \\}\n    if \\(selectedDate\\) \\{\n      setForm\\(\\{ \\.\\.\\.form, birthDate: formatDate\\(selectedDate\\) \\}\\)\n    \\}\n    setShowDatePicker\\(false\\)\n  \\}\n\n  return \\(\n    <KeyboardAvoidingView\n      style=\\{\\{ flex: 1, backgroundColor: colors\\.background \\}\\}\n      behavior=\\{Platform\\.OS === 'ios' \\? 'padding' : undefined\\}\n      keyboardVerticalOffset=\\{100\\}\n    >\n      <ScrollView\n        style=\\{\\{ flex: 1 \\}\\}\n        contentContainerStyle=\\{styles\\.container\\}\n        keyboardShouldPersistTaps=\"handled\"\n      >\n        <Text style=\\{\\[styles\\.title, \\{ color: colors\\.text \\}\\]\\}>Registre-se</Text>\n        <Text style=\\{\\[styles\\.description, \\{ color: colors\\.textSecondary \\}\\]\\}>\n          Para usar o aplicativo e necessario que voce se registre\\. Apos o\n          registro, voce podera acessar todas as funcionalidades do aplicativo\\.\n        </Text>\n\n        <TextInput\n          style=\\{\\[\n            styles\\.input,\n            \\{\n              backgroundColor: colors\\.backgroundSecondary,\n              borderColor: colors\\.border,\n              color: colors\\.text,\n            \\},\n          \\]\\}\n          placeholder=\"Nome\"\n          onChangeText=\\{\\(value\\) => setForm\\(\\{ \\.\\.\\.form, name: value \\}\\)\\}\n          value=\\{form\\.name\\}\n          autoCapitalize=\"words\"\n          placeholderTextColor=\\{colors\\.textSecondary\\}\n        />\n        <TextInput\n          style=\\{\\[\n            styles\\.input,\n            \\{\n              backgroundColor: colors\\.backgroundSecondary,\n              borderColor: colors\\.border,\n              color: colors\\.text,\n            \\},\n          \\]\\}\n          placeholder=\"Email\"\n          onChangeText=\\{\\(value\\) => setForm\\(\\{ \\.\\.\\.form, email: value \\}\\)\\}\n          value=\\{form\\.email\\}\n          keyboardType=\"email-address\"\n          autoCapitalize=\"none\"\n          autoCorrect=\\{false\\}\n          placeholderTextColor=\\{colors\\.textSecondary\\}\n        />\n\n        <Text style=\\{\\[styles\\.hint, \\{ color: colors\\.textSecondary \\}\\]\\}>\n          Use pelo menos 6 caracteres\n        </Text>\n        <TextInput\n          style=\\{\\[\n            styles\\.input,\n            \\{\n              backgroundColor: colors\\.backgroundSecondary,\n              borderColor: colors\\.border,\n              color: colors\\.text,\n            \\},\n          \\]\\}\n          placeholder=\"Senha\"\n          secureTextEntry\n          onChangeText=\\{\\(value\\) => setForm\\(\\{ \\.\\.\\.form, password: value \\}\\)\\}\n          value=\\{form\\.password\\}\n          placeholderTextColor=\\{colors\\.textSecondary\\}\n        />\n\n        <TextInput\n          style=\\{\\[\n            styles\\.input,\n            \\{\n              backgroundColor: colors\\.backgroundSecondary,\n              borderColor: colors\\.border,\n              color: colors\\.text,\n            \\},\n          \\]\\}\n          placeholder=\"Confirmar Senha\"\n          secureTextEntry\n          onChangeText=\\{\\(value\\) =>\n            setForm\\(\\{ \\.\\.\\.form, password_confirmation: value \\}\\)\n          \\}\n          value=\\{form\\.password_confirmation\\}\n          placeholderTextColor=\\{colors\\.textSecondary\\}\n        />\n\n        <TouchableOpacity\n          onPress=\\{\\(\\) => setShowDatePicker\\(true\\)\\}\n          accessibilityRole=\"button\"\n          style=\\{\\[\n            styles\\.input,\n            \\{\n              backgroundColor: colors\\.backgroundSecondary,\n              borderColor: colors\\.border,\n            \\},\n          \\]\\}\n        >\n          <Text\n            style=\\{\\{\n              color: form\\.birthDate \\? colors\\.text : colors\\.textSecondary,\n            \\}\\}\n          >\n            \\{form\\.birthDate \\|\\| 'Data de Nascimento'\\}\n          </Text>\n        </TouchableOpacity>\n        \\{showDatePicker && \\(\n          <DateTimePicker\n            value=\\{form\\.birthDate \\? parseDate\\(form\\.birthDate\\) : new Date\\(\\)\\}\n            mode=\"date\"\n            display=\\{Platform\\.OS === 'ios' \\? 'spinner' : 'default'\\}\n            onChange=\\{handleDateChange\\}\n            maximumDate=\\{new Date\\(\\)\\}\n          />\n        \\)\\}\n\n        <MaskedTextInput\n          mask=\"\\(99\\) 99999-9999\"\n          placeholder=\"Telefone\"\n          keyboardType=\"phone-pad\"\n          style=\\{\\[\n            styles\\.input,\n            \\{\n              backgroundColor: colors\\.backgroundSecondary,\n              borderColor: colors\\.border,\n              color: colors\\.text,\n            \\},\n          \\]\\}\n          onChangeText=\\{\\(text, raw\\) => setForm\\(\\{ \\.\\.\\.form, phone: raw \\}\\)\\}\n          value=\\{form\\.phone\\}\n          placeholderTextColor=\\{colors\\.textSecondary\\}\n        />\n\n        <MaskedTextInput\n          mask=\"999\\.999\\.999-99\"\n          placeholder=\"CPF\"\n          keyboardType=\"numeric\"\n          style=\\{\\[\n            styles\\.input,\n            \\{\n              backgroundColor: colors\\.backgroundSecondary,\n              borderColor: colors\\.border,\n              color: colors\\.text,\n            \\},\n          \\]\\}\n          onChangeText=\\{\\(text, raw\\) => setForm\\(\\{ \\.\\.\\.form, cpf: raw \\}\\)\\}\n          value=\\{form\\.cpf\\}\n          maxLength=\\{14\\}\n          placeholderTextColor=\\{colors\\.textSecondary\\}\n        />\n\n        <View style=\\{styles\\.labelContainer\\}>\n          <Text style=\\{\\[styles\\.label, \\{ color: colors\\.text \\}\\]\\}>Sexo:</Text>\n          <View style=\\{styles\\.radioContainer\\}>\n            \\{\\['M', 'F', 'O'\\]\\.map\\(\\(gender\\) => \\(\n              <TouchableOpacity\n                key=\\{gender\\}\n                style=\\{\\[\n                  styles\\.radioButton,\n                  \\{\n                    borderColor: colors\\.border,\n                    backgroundColor: colors\\.backgroundSecondary,\n                  \\},\n                  form\\.gender === gender && \\{\n                    backgroundColor: colors\\.primary,\n                    borderColor: colors\\.primary,\n                  \\},\n                \\]\\}\n                onPress=\\{\\(\\) => selectGender\\(gender\\)\\}\n                activeOpacity=\\{0\\.8\\}\n                accessibilityRole=\"button\"\n              >\n                <Text\n                  style=\\{\\[\n                    styles\\.radioButtonText,\n                    \\{ color: colors\\.textSecondary \\},\n                    form\\.gender === gender && \\{\n                      color: '#fff',\n                      fontWeight: 'bold',\n                    \\},\n                  \\]\\}\n                >\n                  \\{gender === 'M'\n                    \\? 'Masculino'\n                    : gender === 'F'\n                      \\? 'Feminino'\n                      : 'Outro'\\}\n                </Text>\n              </TouchableOpacity>\n            \\)\\)\\}\n          </View>\n        </View>\n\n        <TextInput\n          style=\\{\\[\n            styles\\.input,\n            \\{\n              backgroundColor: colors\\.backgroundSecondary,\n              borderColor: colors\\.border,\n              color: colors\\.text,\n            \\},\n          \\]\\}\n          placeholder=\"Profissao\"\n          onChangeText=\\{\\(value\\) => setForm\\(\\{ \\.\\.\\.form, profession: value \\}\\)\\}\n          value=\\{form\\.profession\\}\n          placeholderTextColor=\\{colors\\.textSecondary\\}\n        />\n        <TextInput\n          style=\\{\\[\n            styles\\.input,\n            \\{\n              backgroundColor: colors\\.backgroundSecondary,\n              borderColor: colors\\.border,\n              color: colors\\.text,\n            \\},\n          \\]\\}\n          placeholder=\"Endereco\"\n          onChangeText=\\{\\(value\\) => setForm\\(\\{ \\.\\.\\.form, address: value \\}\\)\\}\n          value=\\{form\\.address\\}\n          placeholderTextColor=\\{colors\\.textSecondary\\}\n        />\n\n        <View style=\\{styles\\.labelContainer\\}>\n          <Text style=\\{\\[styles\\.label, \\{ color: colors\\.text \\}\\]\\}>\n            E Administrador:\n          </Text>\n          <View style=\\{styles\\.radioContainer\\}>\n            \\{\\['S', 'N'\\]\\.map\\(\\(isAdmin\\) => \\(\n              <TouchableOpacity\n                key=\\{isAdmin\\}\n                style=\\{\\[\n                  styles\\.radioButton,\n                  \\{\n                    borderColor: colors\\.border,\n                    backgroundColor: colors\\.backgroundSecondary,\n                  \\},\n                  equalsIsAdmin\\(isAdmin\\) && \\{\n                    backgroundColor: colors\\.primary,\n                    borderColor: colors\\.primary,\n                  \\},\n                \\]\\}\n                onPress=\\{\\(\\) => selectIsAdmin\\(isAdmin\\)\\}\n                accessibilityRole=\"button\"\n              >\n                <Text\n                  style=\\{\\[\n                    styles\\.radioButtonText,\n                    \\{ color: colors\\.textSecondary \\},\n                    equalsIsAdmin\\(isAdmin\\) && \\{\n                      color: '#fff',\n                      fontWeight: 'bold',\n                    \\},\n                  \\]\\}\n                >\n                  \\{isAdmin === 'S' \\? 'Sim' : 'Nao'\\}\n                </Text>\n              </TouchableOpacity>\n            \\)\\)\\}\n          </View>\n        </View>\n\n        <View style=\\{styles\\.labelContainer\\}>\n          <Text style=\\{\\[styles\\.label, \\{ color: colors\\.text \\}\\]\\}>\n            E Personal Trainer:\n          </Text>\n          <View style=\\{styles\\.radioContainer\\}>\n            \\{\\['S', 'N'\\]\\.map\\(\\(isPersonal\\) => \\(\n              <TouchableOpacity\n                key=\\{isPersonal\\}\n                style=\\{\\[\n                  styles\\.radioButton,\n                  \\{\n                    borderColor: colors\\.border,\n                    backgroundColor: colors\\.backgroundSecondary,\n                  \\},\n                  equalsIsPersonal\\(isPersonal\\) && \\{\n                    backgroundColor: colors\\.primary,\n                    borderColor: colors\\.primary,\n                  \\},\n                \\]\\}\n                onPress=\\{\\(\\) => selectIsPersonal\\(isPersonal\\)\\}\n                accessibilityRole=\"button\"\n              >\n                <Text\n                  style=\\{\\[\n                    styles\\.radioButtonText,\n                    \\{ color: colors\\.textSecondary \\},\n                    equalsIsPersonal\\(isPersonal\\) && \\{\n                      color: '#fff',\n                      fontWeight: 'bold',\n                    \\},\n                  \\]\\}\n                >\n                  \\{isPersonal === 'S' \\? 'Sim' : 'Nao'\\}\n                </Text>\n              </TouchableOpacity>\n            \\)\\)\\}\n          </View>\n        </View>\n\n        <TouchableOpacity\n          style=\\{\\[styles\\.button, \\{ backgroundColor: colors\\.primary \\}\\]\\}\n          onPress=\\{handleRegister\\}\n          accessibilityRole=\"button\"\n        >\n          <Text style=\\{styles\\.buttonText\\}>Registrar</Text>\n        </TouchableOpacity>\n\n        <Link\n          href=\"/\\(auth\\)/login\"\n          style=\\{\\[styles\\.link, \\{ color: colors\\.primary \\}\\]\\}\n        >\n          Ja estou cadastrado\n        </Link>\n      </ScrollView>\n    </KeyboardAvoidingView>\n  \\)\n\\}\n\nconst styles = StyleSheet\\.create\\(\\{\n  container: \\{\n    paddingHorizontal: 28,\n    paddingVertical: 20,\n    gap: 14,\n    alignItems: 'stretch',\n  \\},\n  input: \\{\n    fontSize: 14,\n    padding: 12,\n    borderWidth: 1,\n    borderRadius: 8,\n    marginBottom: 10,\n  \\},\n  hint: \\{\n    fontSize: 12,\n    marginBottom: -8,\n    marginTop: -8,\n  \\},\n  button: \\{\n    paddingVertical: 14,\n    borderRadius: 8,\n    marginTop: 12,\n    alignItems: 'center',\n    elevation: 1,\n  \\},\n  buttonText: \\{\n    color: '#fff',\n    fontWeight: 'bold',\n    fontSize: 16,\n  \\},\n  link: \\{\n    padding: 15,\n    fontSize: 14,\n    textAlign: 'center',\n    fontWeight: '500',\n  \\},\n  title: \\{\n    fontSize: 24,\n    fontWeight: 'bold',\n    textAlign: 'center',\n  \\},\n  description: \\{\n    fontSize: 12,\n    textAlign: 'center',\n  \\},\n  label: \\{\n    fontSize: 14,\n    fontWeight: '600',\n  \\},\n  labelContainer: \\{\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    gap: 8,\n  \\},\n  radioContainer: \\{\n    flexDirection: 'row',\n    gap: 8,\n    flexWrap: 'wrap',\n  \\},\n  radioButton: \\{\n    borderWidth: 1,\n    borderRadius: 20,\n    paddingVertical: 8,\n    paddingHorizontal: 16,\n  \\},\n  radioButtonText: \\{\n    fontSize: 14,\n  \\},\n\\}\\)\n'@\n\nSet-Content -Path \"D:\\\\Biblioteca\\\\Projetos\\\\Bitbucket\\\\gym\\\\app\\\\\\(auth\\)\\\\register\\.tsx\" -Value \\$content -Encoding UTF8\nWrite-Host \"Done\"$/": {
      "approve": true,
      "matchCommandLine": true
    },
    "/^\\$content = @'\nimport \\{ useState, useCallback \\} from 'react'\nimport \\{ Diet \\} from '@/interfaces/Diet'\nimport \\{ dietService \\} from '@/services/dietService'\nimport \\{ useApi \\} from '\\./useApi'\nimport \\{ ENV \\} from '@/constants/environment'\n\ninterface UseDietsReturn \\{\n  diets: Diet\\[\\]\n  loading: boolean\n  fetchDiets: \\(\\) => Promise<void>\n  fetchDietById: \\(dietId: number\\) => Promise<Diet \\| null>\n  createDiet: \\(dietData: Partial<Diet>\\) => Promise<boolean>\n  updateDiet: \\(dietId: number, dietData: Partial<Diet>\\) => Promise<boolean>\n  deleteDiet: \\(dietId: number\\) => Promise<boolean>\n  refreshDiets: \\(\\) => Promise<void>\n  getDietById: \\(dietId: number\\) => Diet \\| undefined\n  filterDiets: \\(filters: \\{ name\\?: string; calories\\?: string \\}\\) => Diet\\[\\]\n\\}\n\nexport const useDiets = \\(\\): UseDietsReturn => \\{\n  const \\{ executeWithAuth \\} = useApi\\(\\)\n  const \\[diets, setDiets\\] = useState<Diet\\[\\]>\\(\\[\\]\\)\n  const \\[loading, setLoading\\] = useState\\(false\\)\n\n  const fetchDiets = useCallback\\(async \\(\\) => \\{\n    try \\{\n      setLoading\\(true\\)\n      const result = await executeWithAuth\\(\n        \\(token\\) => dietService\\.fetchDiets\\(token\\),\n        \\{ showErrorAlert: true, errorMessage: 'Falha ao carregar dietas' \\},\n      \\)\n      if \\(result\\) setDiets\\(result\\)\n    \\} catch \\(error\\) \\{\n      console\\.error\\('Erro ao carregar dietas:', error\\)\n    \\} finally \\{\n      setLoading\\(false\\)\n    \\}\n  \\}, \\[executeWithAuth\\]\\)\n\n  const fetchDietById = useCallback\\(\n    async \\(dietId: number\\): Promise<Diet \\| null> => \\{\n      try \\{\n        const result = await executeWithAuth\\(\n          \\(token\\) => dietService\\.fetchDietById\\(dietId, token\\),\n          \\{ showErrorAlert: true, errorMessage: 'Falha ao carregar dieta' \\},\n        \\)\n        return result \\|\\| null\n      \\} catch \\(error\\) \\{\n        console\\.error\\('Erro ao carregar dieta:', error\\)\n        return null\n      \\}\n    \\},\n    \\[executeWithAuth\\],\n  \\)\n\n  const createDiet = useCallback\\(\n    async \\(dietData: Partial<Diet>\\): Promise<boolean> => \\{\n      const result = await executeWithAuth\\(\n        \\(token\\) => dietService\\.createDiet\\(dietData, token\\),\n        \\{\n          showSuccessAlert: ENV\\.showSuccessAlerts,\n          successMessage: 'Dieta criada com sucesso',\n          errorMessage: 'Falha ao criar dieta',\n        \\},\n      \\)\n      if \\(result\\) \\{ await fetchDiets\\(\\); return true \\}\n      return false\n    \\},\n    \\[executeWithAuth, fetchDiets\\],\n  \\)\n\n  const updateDiet = useCallback\\(\n    async \\(dietId: number, dietData: Partial<Diet>\\): Promise<boolean> => \\{\n      const result = await executeWithAuth\\(\n        \\(token\\) => dietService\\.updateDiet\\(dietId, dietData, token\\),\n        \\{\n          showSuccessAlert: ENV\\.showSuccessAlerts,\n          successMessage: 'Dieta atualizada com sucesso',\n          errorMessage: 'Falha ao atualizar dieta',\n        \\},\n      \\)\n      if \\(result\\) \\{ await fetchDiets\\(\\); return true \\}\n      return false\n    \\},\n    \\[executeWithAuth, fetchDiets\\],\n  \\)\n\n  const deleteDiet = useCallback\\(\n    async \\(dietId: number\\): Promise<boolean> => \\{\n      const result = await executeWithAuth\\(\n        \\(token\\) => dietService\\.deleteDiet\\(dietId, token\\),\n        \\{\n          showSuccessAlert: ENV\\.showSuccessAlerts,\n          successMessage: 'Dieta deletada com sucesso',\n          errorMessage: 'Falha ao deletar dieta',\n        \\},\n      \\)\n      if \\(result !== null\\) \\{ await fetchDiets\\(\\); return true \\}\n      return false\n    \\},\n    \\[executeWithAuth, fetchDiets\\],\n  \\)\n\n  const refreshDiets = useCallback\\(async \\(\\) => \\{ await fetchDiets\\(\\) \\}, \\[fetchDiets\\]\\)\n\n  const getDietById = useCallback\\(\n    \\(dietId: number\\): Diet \\| undefined => dietService\\.getDietById\\(diets, dietId\\),\n    \\[diets\\],\n  \\)\n\n  const filterDiets = useCallback\\(\n    \\(filters: \\{ name\\?: string; calories\\?: string \\}\\): Diet\\[\\] =>\n      dietService\\.filterDiets\\(diets, filters\\),\n    \\[diets\\],\n  \\)\n\n  return \\{ diets, loading, fetchDiets, fetchDietById, createDiet, updateDiet, deleteDiet, refreshDiets, getDietById, filterDiets \\}\n\\}\n'@\nSet-Content -Path \"D:\\\\Biblioteca\\\\Projetos\\\\Bitbucket\\\\gym\\\\hooks\\\\useDiets\\.ts\" -Value \\$content -Encoding UTF8\nWrite-Host \"Done\\. Lines: \\$\\(\\$content\\.Split\\(\"`n\"\\)\\.Count\\)\"$/": {
      "approve": true,
      "matchCommandLine": true
    },
    "/^\\$content = @'\nimport React, \\{ useEffect \\} from 'react'\nimport \\{\n  Modal,\n  View,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  ScrollView,\n  StyleSheet,\n  BackHandler,\n\\} from 'react-native'\nimport \\{ SafeAreaView \\} from 'react-native-safe-area-context'\nimport \\{ Diet \\} from '@/interfaces/Diet'\nimport \\{ useAppTheme \\} from '@/hooks/useAppTheme'\n\ninterface DietFormModalProps \\{\n  visible: boolean\n  title: string\n  formData: Partial<Diet>\n  onClose: \\(\\) => void\n  onSave: \\(\\) => void\n  onFormChange: \\(key: string, value: string \\| number\\) => void\n\\}\n\nexport default function DietFormModal\\(\\{\n  visible,\n  title,\n  formData,\n  onClose,\n  onSave,\n  onFormChange,\n\\}: DietFormModalProps\\) \\{\n  const \\{ colors \\} = useAppTheme\\(\\)\n\n  useEffect\\(\\(\\) => \\{\n    const backAction = \\(\\) => \\{\n      if \\(visible\\) \\{ onClose\\(\\); return true \\}\n      return false\n    \\}\n    const backHandler = BackHandler\\.addEventListener\\('hardwareBackPress', backAction\\)\n    return \\(\\) => backHandler\\.remove\\(\\)\n  \\}, \\[visible, onClose\\]\\)\n\n  const styles = StyleSheet\\.create\\(\\{\n    modalContainer: \\{ flex: 1, backgroundColor: colors\\.background \\},\n    modalHeader: \\{\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      paddingHorizontal: 16,\n      paddingVertical: 12,\n      backgroundColor: colors\\.backgroundSecondary,\n      borderBottomWidth: 1,\n      borderBottomColor: colors\\.border,\n    \\},\n    modalTitle: \\{ fontSize: 17, fontWeight: '600', color: colors\\.text \\},\n    cancelButton: \\{ fontSize: 17, color: colors\\.danger \\},\n    saveButton: \\{ fontSize: 17, fontWeight: '600', color: colors\\.primary \\},\n    formContainer: \\{ flex: 1, padding: 16 \\},\n    inputGroup: \\{ marginBottom: 16 \\},\n    inputLabel: \\{ fontSize: 16, fontWeight: '500', color: colors\\.text, marginBottom: 8 \\},\n    input: \\{\n      backgroundColor: colors\\.backgroundSecondary,\n      borderWidth: 1,\n      borderColor: colors\\.border,\n      borderRadius: 8,\n      paddingHorizontal: 12,\n      paddingVertical: 10,\n      fontSize: 16,\n      color: colors\\.text,\n    \\},\n    textArea: \\{ height: 80, textAlignVertical: 'top' \\},\n    sectionTitle: \\{ fontSize: 18, fontWeight: '600', color: colors\\.text, marginBottom: 12, marginTop: 8 \\},\n    row: \\{ flexDirection: 'row', justifyContent: 'space-between' \\},\n    halfWidth: \\{ width: '48%' \\},\n    scrollContent: \\{ paddingBottom: 50 \\},\n  \\}\\)\n\n  return \\(\n    <Modal visible=\\{visible\\} animationType=\"slide\" presentationStyle=\"pageSheet\">\n      <SafeAreaView style=\\{styles\\.modalContainer\\}>\n        <View style=\\{styles\\.modalHeader\\}>\n          <TouchableOpacity onPress=\\{onClose\\}>\n            <Text style=\\{styles\\.cancelButton\\}>Cancelar</Text>\n          </TouchableOpacity>\n          <Text style=\\{styles\\.modalTitle\\}>\\{title\\}</Text>\n          <TouchableOpacity onPress=\\{onSave\\}>\n            <Text style=\\{styles\\.saveButton\\}>Salvar</Text>\n          </TouchableOpacity>\n        </View>\n\n        <ScrollView style=\\{styles\\.formContainer\\} contentContainerStyle=\\{styles\\.scrollContent\\}>\n          <View style=\\{styles\\.inputGroup\\}>\n            <Text style=\\{styles\\.inputLabel\\}>Nome da Dieta \\*</Text>\n            <TextInput\n              style=\\{styles\\.input\\}\n              value=\\{formData\\.name \\|\\| ''\\}\n              onChangeText=\\{\\(text\\) => onFormChange\\('name', text\\)\\}\n              placeholder=\"Digite o nome da dieta\"\n              placeholderTextColor=\\{colors\\.textSecondary\\}\n            />\n          </View>\n\n          <View style=\\{styles\\.inputGroup\\}>\n            <Text style=\\{styles\\.inputLabel\\}>Descricao</Text>\n            <TextInput\n              style=\\{\\[styles\\.input, styles\\.textArea\\]\\}\n              value=\\{formData\\.description \\|\\| ''\\}\n              onChangeText=\\{\\(text\\) => onFormChange\\('description', text\\)\\}\n              placeholder=\"Digite a descricao da dieta\"\n              placeholderTextColor=\\{colors\\.textSecondary\\}\n              multiline\n              numberOfLines=\\{3\\}\n            />\n          </View>\n\n          <Text style=\\{styles\\.sectionTitle\\}>Informacoes Nutricionais</Text>\n\n          <View style=\\{styles\\.row\\}>\n            <View style=\\{\\[styles\\.inputGroup, styles\\.halfWidth\\]\\}>\n              <Text style=\\{styles\\.inputLabel\\}>Calorias \\(kcal\\)</Text>\n              <TextInput\n                style=\\{styles\\.input\\}\n                value=\\{formData\\.calories\\?\\.toString\\(\\) \\|\\| ''\\}\n                onChangeText=\\{\\(text\\) => onFormChange\\('calories', text\\)\\}\n                placeholder=\"0\"\n                placeholderTextColor=\\{colors\\.textSecondary\\}\n                keyboardType=\"numeric\"\n              />\n            </View>\n            <View style=\\{\\[styles\\.inputGroup, styles\\.halfWidth\\]\\}>\n              <Text style=\\{styles\\.inputLabel\\}>Proteinas \\(g\\)</Text>\n              <TextInput\n                style=\\{styles\\.input\\}\n                value=\\{formData\\.proteins\\?\\.toString\\(\\) \\|\\| ''\\}\n                onChangeText=\\{\\(text\\) => onFormChange\\('proteins', text\\)\\}\n                placeholder=\"0\"\n                placeholderTextColor=\\{colors\\.textSecondary\\}\n                keyboardType=\"numeric\"\n              />\n            </View>\n          </View>\n\n          <View style=\\{styles\\.row\\}>\n            <View style=\\{\\[styles\\.inputGroup, styles\\.halfWidth\\]\\}>\n              <Text style=\\{styles\\.inputLabel\\}>Carboidratos \\(g\\)</Text>\n              <TextInput\n                style=\\{styles\\.input\\}\n                value=\\{formData\\.carbohydrates\\?\\.toString\\(\\) \\|\\| ''\\}\n                onChangeText=\\{\\(text\\) => onFormChange\\('carbohydrates', text\\)\\}\n                placeholder=\"0\"\n                placeholderTextColor=\\{colors\\.textSecondary\\}\n                keyboardType=\"numeric\"\n              />\n            </View>\n            <View style=\\{\\[styles\\.inputGroup, styles\\.halfWidth\\]\\}>\n              <Text style=\\{styles\\.inputLabel\\}>Gorduras \\(g\\)</Text>\n              <TextInput\n                style=\\{styles\\.input\\}\n                value=\\{formData\\.fats\\?\\.toString\\(\\) \\|\\| ''\\}\n                onChangeText=\\{\\(text\\) => onFormChange\\('fats', text\\)\\}\n                placeholder=\"0\"\n                placeholderTextColor=\\{colors\\.textSecondary\\}\n                keyboardType=\"numeric\"\n              />\n            </View>\n          </View>\n        </ScrollView>\n      </SafeAreaView>\n    </Modal>\n  \\)\n\\}\n'@\nSet-Content -Path \"D:\\\\Biblioteca\\\\Projetos\\\\Bitbucket\\\\gym\\\\components\\\\common\\\\DietFormModal\\.tsx\" -Value \\$content -Encoding UTF8\nWrite-Host \"Done\"$/": {
      "approve": true,
      "matchCommandLine": true
    },
    "/^\\$content = @'\nimport React, \\{ useState, useEffect, useCallback \\} from 'react'\nimport \\{ View, FlatList, Alert, RefreshControl, StyleSheet \\} from 'react-native'\nimport \\{ useUsers \\} from '@/hooks/useUsers'\nimport \\{ useDiets \\} from '@/hooks/useDiets'\nimport \\{ Diet \\} from '@/interfaces/Diet'\nimport DietFormModal from '@/components/common/DietFormModal'\nimport AssignDietModal from '@/components/common/AssignDietModal'\nimport GenericFilterModal, \\{ FilterField \\} from '@/components/common/GenericFilterModal'\nimport PageHeader, \\{ HeaderButton \\} from '@/components/common/PageHeader'\nimport DietCard from '@/components/common/DietCard'\nimport \\{ useAppTheme \\} from '@/hooks/useAppTheme'\n\ninterface FilterState \\{\n  name: string\n  calories: string\n\\}\n\nexport default function DietsScreen\\(\\) \\{\n  const \\{ clients, fetchClients, assignDietToClient \\} = useUsers\\(\\)\n  const \\{ diets, fetchDiets, createDiet, updateDiet, deleteDiet, filterDiets \\} = useDiets\\(\\)\n  const \\{ colors \\} = useAppTheme\\(\\)\n\n  const styles = StyleSheet\\.create\\(\\{\n    container: \\{ flex: 1, backgroundColor: colors\\.background \\},\n    list: \\{ flex: 1, paddingHorizontal: 16, paddingVertical: 8 \\},\n  \\}\\)\n\n  const \\[filteredDiets, setFilteredDiets\\] = useState<Diet\\[\\]>\\(\\[\\]\\)\n  const \\[refreshing, setRefreshing\\] = useState\\(false\\)\n  const \\[modalVisible, setModalVisible\\] = useState\\(false\\)\n  const \\[filterModalVisible, setFilterModalVisible\\] = useState\\(false\\)\n  const \\[assignModalVisible, setAssignModalVisible\\] = useState\\(false\\)\n  const \\[editingDiet, setEditingDiet\\] = useState<Diet \\| null>\\(null\\)\n  const \\[selectedDietForAssign, setSelectedDietForAssign\\] = useState<Diet \\| null>\\(null\\)\n\n  const \\[formData, setFormData\\] = useState<Partial<Diet>>\\(\\{\n    name: '',\n    description: '',\n    calories: 0,\n    proteins: 0,\n    carbohydrates: 0,\n    fats: 0,\n  \\}\\)\n\n  const \\[filters, setFilters\\] = useState<FilterState>\\(\\{ name: '', calories: '' \\}\\)\n\n  const handleFormChange = \\(key: string, value: string \\| number\\) => \\{\n    if \\(\\['calories', 'proteins', 'carbohydrates', 'fats'\\]\\.includes\\(key\\)\\) \\{\n      const numValue = typeof value === 'string' \\? parseFloat\\(value\\) \\|\\| 0 : value\n      setFormData\\(\\{ \\.\\.\\.formData, \\[key\\]: numValue \\}\\)\n    \\} else \\{\n      setFormData\\(\\{ \\.\\.\\.formData, \\[key\\]: value \\}\\)\n    \\}\n  \\}\n\n  const handleFilterChange = \\(key: string, value: string\\) => \\{\n    setFilters\\(\\{ \\.\\.\\.filters, \\[key\\]: value \\}\\)\n  \\}\n\n  const resetForm = \\(\\) => \\{\n    setFormData\\(\\{ name: '', description: '', calories: 0, proteins: 0, carbohydrates: 0, fats: 0 \\}\\)\n    setEditingDiet\\(null\\)\n  \\}\n\n  const applyFilters = useCallback\\(\\(\\) => \\{\n    const filtered = filterDiets\\(filters\\)\n    setFilteredDiets\\(filtered\\)\n    setFilterModalVisible\\(false\\)\n  \\}, \\[filterDiets, filters\\]\\)\n\n  const clearFilters = \\(\\) => \\{\n    setFilters\\(\\{ name: '', calories: '' \\}\\)\n    setFilteredDiets\\(diets\\)\n  \\}\n\n  const saveDiet = async \\(\\) => \\{\n    try \\{\n      const success = editingDiet\n        \\? await updateDiet\\(editingDiet\\.id, formData\\)\n        : await createDiet\\(formData\\)\n\n      if \\(success\\) \\{\n        setModalVisible\\(false\\)\n        resetForm\\(\\)\n        const filtered = filterDiets\\(filters\\)\n        setFilteredDiets\\(filtered\\)\n      \\}\n    \\} catch \\(error\\) \\{\n      Alert\\.alert\\('Erro', 'Erro inesperado'\\)\n    \\}\n  \\}\n\n  const openEditModal = \\(diet: Diet\\) => \\{\n    setEditingDiet\\(diet\\)\n    setFormData\\(\\{\n      name: diet\\.name,\n      description: diet\\.description,\n      calories: diet\\.calories,\n      proteins: diet\\.proteins,\n      carbohydrates: diet\\.carbohydrates,\n      fats: diet\\.fats,\n    \\}\\)\n    setModalVisible\\(true\\)\n  \\}\n\n  const handleDeleteDiet = async \\(dietId: number\\) => \\{\n    Alert\\.alert\\('Confirmar', 'Tem certeza que deseja deletar esta dieta\\?', \\[\n      \\{ text: 'Cancelar', style: 'cancel' \\},\n      \\{\n        text: 'Deletar',\n        style: 'destructive',\n        onPress: async \\(\\) => \\{\n          const success = await deleteDiet\\(dietId\\)\n          if \\(success\\) \\{\n            const filtered = filterDiets\\(filters\\)\n            setFilteredDiets\\(filtered\\)\n          \\}\n        \\},\n      \\},\n    \\]\\)\n  \\}\n\n  const openAssignModal = \\(diet: Diet\\) => \\{\n    setSelectedDietForAssign\\(diet\\)\n    setAssignModalVisible\\(true\\)\n  \\}\n\n  const handleAssignDiet = async \\(clientId: string\\) => \\{\n    if \\(selectedDietForAssign\\?\\.id\\) \\{\n      const success = await assignDietToClient\\(\n        Number\\(clientId\\),\n        selectedDietForAssign\\.id,\n      \\)\n      if \\(success\\) \\{\n        setAssignModalVisible\\(false\\)\n        setSelectedDietForAssign\\(null\\)\n      \\}\n    \\}\n  \\}\n\n  useEffect\\(\\(\\) => \\{\n    fetchDiets\\(\\)\n    fetchClients\\(\\)\n  \\}, \\[fetchDiets, fetchClients\\]\\)\n\n  useEffect\\(\\(\\) => \\{\n    setFilteredDiets\\(diets\\)\n    if \\(filters\\.name \\|\\| filters\\.calories\\) \\{\n      const filtered = filterDiets\\(filters\\)\n      setFilteredDiets\\(filtered\\)\n    \\}\n  \\}, \\[diets, filterDiets, filters\\]\\)\n\n  const onRefresh = async \\(\\) => \\{\n    setRefreshing\\(true\\)\n    try \\{\n      await Promise\\.all\\(\\[fetchDiets\\(\\), fetchClients\\(\\)\\]\\)\n    \\} finally \\{\n      setRefreshing\\(false\\)\n    \\}\n  \\}\n\n  const dietFilterFields: FilterField\\[\\] = \\[\n    \\{\n      key: 'name',\n      label: 'Nome',\n      type: 'text',\n      placeholder: 'Filtrar por nome',\n      value: filters\\.name,\n    \\},\n    \\{\n      key: 'calories',\n      label: 'Calorias minimas',\n      type: 'text',\n      placeholder: 'Ex: 1500',\n      value: filters\\.calories,\n    \\},\n  \\]\n\n  const headerButtons: HeaderButton\\[\\] = \\[\n    \\{ icon: 'filter', onPress: \\(\\) => setFilterModalVisible\\(true\\), color: colors\\.primary \\},\n    \\{ icon: 'plus', onPress: \\(\\) => \\{ resetForm\\(\\); setModalVisible\\(true\\) \\}, color: colors\\.primary \\},\n  \\]\n\n  const renderDietItem = \\(\\{ item \\}: \\{ item: Diet \\}\\) => \\(\n    <DietCard\n      diet=\\{item\\}\n      onEdit=\\{openEditModal\\}\n      onDelete=\\{handleDeleteDiet\\}\n      onAssignToClient=\\{openAssignModal\\}\n    />\n  \\)\n\n  return \\(\n    <View style=\\{styles\\.container\\}>\n      <PageHeader title=\"Gerenciar Dietas\" buttons=\\{headerButtons\\} />\n\n      <FlatList\n        data=\\{filteredDiets\\}\n        keyExtractor=\\{\\(item\\) => item\\.id\\.toString\\(\\)\\}\n        renderItem=\\{renderDietItem\\}\n        refreshControl=\\{<RefreshControl refreshing=\\{refreshing\\} onRefresh=\\{onRefresh\\} />\\}\n        style=\\{styles\\.list\\}\n        showsVerticalScrollIndicator=\\{false\\}\n      />\n\n      <DietFormModal\n        visible=\\{modalVisible\\}\n        title=\\{editingDiet \\? 'Editar Dieta' : 'Nova Dieta'\\}\n        formData=\\{formData\\}\n        onClose=\\{\\(\\) => \\{ setModalVisible\\(false\\); resetForm\\(\\) \\}\\}\n        onSave=\\{saveDiet\\}\n        onFormChange=\\{handleFormChange\\}\n      />\n\n      <AssignDietModal\n        visible=\\{assignModalVisible\\}\n        diet=\\{selectedDietForAssign\\}\n        clients=\\{clients\\}\n        onClose=\\{\\(\\) => \\{ setAssignModalVisible\\(false\\); setSelectedDietForAssign\\(null\\) \\}\\}\n        onAssign=\\{handleAssignDiet\\}\n      />\n\n      <GenericFilterModal\n        visible=\\{filterModalVisible\\}\n        title=\"Filtrar Dietas\"\n        fields=\\{dietFilterFields\\}\n        onClose=\\{\\(\\) => setFilterModalVisible\\(false\\)\\}\n        onApplyFilters=\\{applyFilters\\}\n        onClearFilters=\\{clearFilters\\}\n        onFilterChange=\\{handleFilterChange\\}\n      />\n    </View>\n  \\)\n\\}\n'@\nSet-Content -Path \"D:\\\\Biblioteca\\\\Projetos\\\\Bitbucket\\\\gym\\\\app\\\\\\(admin\\)\\\\diets\\.tsx\" -Value \\$content -Encoding UTF8\nWrite-Host \"Done\\. Lines: \\$\\(\\$content\\.Split\\(\"`n\"\\)\\.Count\\)\"$/": {
      "approve": true,
      "matchCommandLine": true
    }
  },
}